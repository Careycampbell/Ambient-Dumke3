<!DOCTYPE HTML>
<html>
	<head>	
		<meta charset="utf-8" />
		<title>Ambient Dumke 3</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- Load Tone.js -->
		<script src="https://cdn.jsdelivr.net/npm/tone@latest/build/Tone.js"></script>
		<style>
			body {
				text-align: center; /* Center-align all text */
				margin: 0;
				padding: 0;
				font-family: Arial, sans-serif; /* Optional: Set a clean font */
			}

			h1, h2, h3, p, footer {
				margin: 10px auto; /* Add some spacing */
			}

			button {
				display: inline-block; /* Ensure buttons are inline */
				margin: 10px auto; /* Center-align buttons */
			}

			div {
				text-align: center; /* Center-align any div content */
			}
		</style>
	</head>
	<body>
		<h1><i>This was water</i></h1>
		<h2>Dumke edition, Take-home Version</h2>
		<p>
			Click the play button to start the audio.<br>
			(sometimes it takes a minute to start.)<br>
			The first thing you will hear are two wave sounds; use these to set volume.<br>
			If you don't hear the waves after clicking the button, refresh the page.<br>
		</p>
		<h3>
			This piece is a generative soundscape, creating itself as you listen.<br>
			Like the environment it honors, it will never be exactly the same way twice.
		</h3>
		<div id="buttonContainer"></div>
		<footer>
			<p>(c) Carey Campbell, 2025</p>
		</footer>
		<script>
			document.addEventListener("DOMContentLoaded", () => {
				// Create a container for the buttons
				const buttonContainer = document.getElementById("buttonContainer");

				// Create a container for the buttons
				const buttonContainer = document.createElement("div");
				buttonContainer.style.margin = "20px";
				document.body.insertBefore(buttonContainer, document.querySelector("footer"));

				// Create Play button
				const playButton = document.createElement("button");
				playButton.id = "playButton";
				playButton.style.display = "inline-block";
				playButton.style.margin = "10px";
				playButton.style.padding = "10px";
				playButton.style.backgroundColor = "blue";
				playButton.style.color = "white";
				playButton.textContent = "Play Audio";
				buttonContainer.appendChild(playButton);

				// Create Stop button
				const stopButton = document.createElement("button");
				stopButton.id = "stopButton";
				stopButton.style.display = "inline-block";
				stopButton.style.margin = "10px";
				stopButton.style.padding = "10px";
				stopButton.style.backgroundColor = "red";
				stopButton.style.color = "white";
				stopButton.textContent = "Stop Audio";
				buttonContainer.appendChild(stopButton);

				// Create Pause button
				const pauseButton = document.createElement("button");
				pauseButton.id = "pauseButton";
				pauseButton.style.display = "inline-block";
				pauseButton.style.margin = "10px";
				pauseButton.style.padding = "10px";
				pauseButton.style.backgroundColor = "orange";
				pauseButton.style.color = "white";
				pauseButton.textContent = "Pause Audio";
				buttonContainer.appendChild(pauseButton);

				// Play button functionality
				playButton.addEventListener("click", async () => {
					await Tone.start(); // Unlock the AudioContext
					console.log("AudioContext unlocked");
					Tone.Transport.start(); // Start the transport
					console.log("Audio is playing");
				});

				// Stop button functionality
				stopButton.addEventListener("click", () => {
					Tone.Transport.stop();
					console.log("Audio stopped");
				});

				// Pause button functionality
				pauseButton.addEventListener("click", () => {
					Tone.Transport.pause();
					console.log("Audio paused");
				});
			});
		</script>
	</head>
	<body>
		<h1><i>This was water</i></h1>
		
		<h2>Dumke edition, Take-home Version</h2>
		<p>Click the play button to start the audio.</br>
		<html>(sometimes it takes a minute to start.)</br>
		<html>The first thing you will hear are two wave sounds; use these to set volume.</br>
		<html>If you don't hear the waves after clicking the button, refresh the page.</br></p>
	</body>
	<h3>This piece is a generative soundscape, creating itself as you listen. <br>Like the environment it honors, it will never be exactly the same way twice.</html></h3></p>
	<footer>
		<p>(c) Carey Campbell, 2025</p>
		
</html>